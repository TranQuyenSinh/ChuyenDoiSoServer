@using Microsoft.AspNetCore.Identity
@using ChuyenDoiSoServer.Utils
@using Newtonsoft.Json
@using ChuyenDoiSoServer.Admin.Models

@{
    var sessionUser = Context.Session.GetString(Constants.USER_SESSION);
    var user = sessionUser != null ? JsonConvert.DeserializeObject<UserSession>(sessionUser) : null;
}

<nav class='admin-navbar navbar navbar-expand navbar-dark sticky-top px-4 py-0'>

    @* <span class='sidebar-toggler flex-shrink-0'>
    <i class='fa fa-bars'></i>
    </span> *@

    <h5 class='text-light'>@ViewData["NavbarTitle"]</h5>

    <div class='navbar-nav align-items-center ms-auto'>
        @if (user != null)
        {
            <div class='dropdown'>
                <a type="button" href="#" class='nav-link dropdown-toggle' data-bs-toggle="dropdown">
                    <img class='rounded-circle me-lg-2' src='@user.Image' style="width: 40px; height: 40px" />
                    <span class='d-none d-lg-inline-flex'>@user.Name</span>
                </a>
                <div class='dropdown-menu dropdown-menu-end border-0 rounded-0 rounded-bottom m-0'>
                    <a href="#" class='dropdown-item'>
                        Cài đặt tài khoản
                    </a>
                    <a asp-area="Admin" asp-controller="Auth" asp-action="Logout" class='dropdown-item text-primary'>
                        Đăng xuất
                    </a>
                </div>
            </div>
        }
    </div>
</nav>